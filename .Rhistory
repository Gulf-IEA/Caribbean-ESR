"PR" , "Density", "red hind",
"PR" , "Density", "mutton snapper",
"PR" , "Density", "yellowtail snapper",
"PR" , "Density", "redband parrotfish",
"PR" , "Density", "stoplight parrotfish")
indnames <- data.frame(matrix(labs, nrow = 6, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
save(inddata, file = "indicator_objects/RVC_PR.RData")
# St. Thomas & St. John
datdata <- 2001:2021
inddata <- data.frame(cbind(RUVdensity_STTSTJ_BAL_VETU$species_data.density, RUVdensity_STTSTJ_EPI_GUTT$species_data.density, RUVdensity_STTSTJ_LUT_ANAL$species_data.density, RUVdensity_STTSTJ_OCY_CHRY$species_data.density, RUVdensity_STTSTJ_SPA_AURO$species_data.density, RUVdensity_STTSTJ_SPA_VIRI$species_data.density))
labs <- c("STTSTJ" , "Density", "queen triggerfish",
"STTSTJ" , "Density", "red hind",
"STTSTJ" , "Density", "mutton snapper",
"STTSTJ" , "Density", "yellowtail snapper",
"STTSTJ" , "Density", "redband parrotfish",
"STTSTJ" , "Density", "stoplight parrotfish")
indnames <- data.frame(matrix(labs, nrow = 6, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
save(inddata, file = "indicator_objects/RVC_STSJ.RData")
# St. Croix
datdata <- 2001:2021
inddata <- data.frame(cbind(RUVdensity_STX_BAL_VETU$species_data.density, RUVdensity_STX_EPI_GUTT$species_data.density, RUVdensity_STX_LUT_ANAL$species_data.density, RUVdensity_STX_OCY_CHRY$species_data.density, RUVdensity_STX_SPA_AURO$species_data.density, RUVdensity_STX_SPA_VIRI$species_data.density))
labs <- c("STX" , "Density", "queen triggerfish",
"STX" , "Density", "red hind",
"STX" , "Density", "mutton snapper",
"STX" , "Density", "yellowtail snapper",
"STX" , "Density", "redband parrotfish",
"STX" , "Density", "stoplight parrotfish")
indnames <- data.frame(matrix(labs, nrow = 6, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
save(inddata, file = "indicator_objects/RVC_STX.RData")
load("../indicator_objects/RVC_PR.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:6, trendAnalysis = T, sublabel = T)
# Puerto Rico
datdata <- 2001:2021
inddata <- data.frame(cbind(RUVdensity_PRICO_BAL_VETU$species_data.density, RUVdensity_PRICO_EPI_GUTT$species_data.density, RUVdensity_PRICO_LUT_ANAL$species_data.density, RUVdensity_PRICO_OCY_CHRY$species_data.density, RUVdensity_PRICO_SPA_AURO$species_data.density, RUVdensity_PRICO_SPA_VIRI$species_data.density))
labs <- c("PR" , "Density", "queen triggerfish",
"PR" , "Density", "red hind",
"PR" , "Density", "mutton snapper",
"PR" , "Density", "yellowtail snapper",
"PR" , "Density", "redband parrotfish",
"PR" , "Density", "stoplight parrotfish")
indnames <- data.frame(matrix(labs, nrow = 6, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
save(inddata, file = "indicator_objects/RVC_PR.RData")
View(RUVdensity_PRICO_SPA_VIRI)
View(RUVdensity_PRICO_SPA_VIRI)
load("../indicator_objects/RVC_PR.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:6, trendAnalysis = T, sublabel = T)
load("../indicator_objects/landings.RData")
load("../indicator_objects/RVC_PR.RData")
load("../indicator_objects/landings.RData")
load("../indicator_objects/fish_density.RData")
# Puerto Rico
datdata <- 2001:2021
inddata <- data.frame(cbind(RUVdensity_PRICO_BAL_VETU$species_data.density, RUVdensity_PRICO_EPI_GUTT$species_data.density, RUVdensity_PRICO_LUT_ANAL$species_data.density, RUVdensity_PRICO_OCY_CHRY$species_data.density, RUVdensity_PRICO_SPA_AURO$species_data.density, RUVdensity_PRICO_SPA_VIRI$species_data.density))
labs <- c("PR" , "Density", "queen triggerfish",
"PR" , "Density", "red hind",
"PR" , "Density", "mutton snapper",
"PR" , "Density", "yellowtail snapper",
"PR" , "Density", "redband parrotfish",
"PR" , "Density", "stoplight parrotfish")
indnames <- data.frame(matrix(labs, nrow = 3, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
save(inddata, file = "indicator_objects/RVC_PR.RData")
# St. Thomas & St. John
datdata <- 2001:2021
inddata <- data.frame(cbind(RUVdensity_STTSTJ_BAL_VETU$species_data.density, RUVdensity_STTSTJ_EPI_GUTT$species_data.density, RUVdensity_STTSTJ_LUT_ANAL$species_data.density, RUVdensity_STTSTJ_OCY_CHRY$species_data.density, RUVdensity_STTSTJ_SPA_AURO$species_data.density, RUVdensity_STTSTJ_SPA_VIRI$species_data.density))
labs <- c("STTSTJ" , "Density", "queen triggerfish",
"STTSTJ" , "Density", "red hind",
"STTSTJ" , "Density", "mutton snapper",
"STTSTJ" , "Density", "yellowtail snapper",
"STTSTJ" , "Density", "redband parrotfish",
"STTSTJ" , "Density", "stoplight parrotfish")
indnames <- data.frame(matrix(labs, nrow = 3, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
save(inddata, file = "indicator_objects/RVC_STSJ.RData")
# St. Croix
datdata <- 2001:2021
inddata <- data.frame(cbind(RUVdensity_STX_BAL_VETU$species_data.density, RUVdensity_STX_EPI_GUTT$species_data.density, RUVdensity_STX_LUT_ANAL$species_data.density, RUVdensity_STX_OCY_CHRY$species_data.density, RUVdensity_STX_SPA_AURO$species_data.density, RUVdensity_STX_SPA_VIRI$species_data.density))
labs <- c("STX" , "Density", "queen triggerfish",
"STX" , "Density", "red hind",
"STX" , "Density", "mutton snapper",
"STX" , "Density", "yellowtail snapper",
"STX" , "Density", "redband parrotfish",
"STX" , "Density", "stoplight parrotfish")
indnames <- data.frame(matrix(labs, nrow = 3, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
save(inddata, file = "indicator_objects/RVC_STX.RData")
load("../indicator_objects/RVC_PR.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:6, trendAnalysis = T, sublabel = T)
# St. Croix
datdata <- 2001:2021
inddata <- data.frame(cbind(RUVdensity_STX_BAL_VETU$species_data.density, RUVdensity_STX_EPI_GUTT$species_data.density, RUVdensity_STX_LUT_ANAL$species_data.density, RUVdensity_STX_OCY_CHRY$species_data.density, RUVdensity_STX_SPA_AURO$species_data.density, RUVdensity_STX_SPA_VIRI$species_data.density))
labs <- c("STX" , "Density", "queen triggerfish",
"STX" , "Density", "red hind",
"STX" , "Density", "mutton snapper",
"STX" , "Density", "yellowtail snapper",
"STX" , "Density", "redband parrotfish",
"STX" , "Density", "stoplight parrotfish")
indnames <- data.frame(matrix(labs, nrow = 3, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
load("../indicator_objects/RVC_STX.RData")
View(RUVdensity_PRICO_BAL_VETU)
# Puerto Rico
datdata <- RUVdensity_PRICO_BAL_VETU$datdata
inddata <- data.frame(cbind(RUVdensity_PRICO_BAL_VETU$species_data.density, RUVdensity_PRICO_EPI_GUTT$species_data.density, RUVdensity_PRICO_LUT_ANAL$species_data.density, RUVdensity_PRICO_OCY_CHRY$species_data.density, RUVdensity_PRICO_SPA_AURO$species_data.density, RUVdensity_PRICO_SPA_VIRI$species_data.density))
labs <- c("PR" , "Density", "queen triggerfish",
"PR" , "Density", "red hind",
"PR" , "Density", "mutton snapper",
"PR" , "Density", "yellowtail snapper",
"PR" , "Density", "redband parrotfish",
"PR" , "Density", "stoplight parrotfish")
indnames <- data.frame(matrix(labs, nrow = 3, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
save(inddata, file = "indicator_objects/RVC_PR.RData")
# St. Thomas & St. John
datdata <- RUVdensity_PRICO_BAL_VETU$datdata
inddata <- data.frame(cbind(RUVdensity_STTSTJ_BAL_VETU$species_data.density, RUVdensity_STTSTJ_EPI_GUTT$species_data.density, RUVdensity_STTSTJ_LUT_ANAL$species_data.density, RUVdensity_STTSTJ_OCY_CHRY$species_data.density, RUVdensity_STTSTJ_SPA_AURO$species_data.density, RUVdensity_STTSTJ_SPA_VIRI$species_data.density))
labs <- c("STTSTJ" , "Density", "queen triggerfish",
"STTSTJ" , "Density", "red hind",
"STTSTJ" , "Density", "mutton snapper",
"STTSTJ" , "Density", "yellowtail snapper",
"STTSTJ" , "Density", "redband parrotfish",
"STTSTJ" , "Density", "stoplight parrotfish")
indnames <- data.frame(matrix(labs, nrow = 3, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
save(inddata, file = "indicator_objects/RVC_STSJ.RData")
# St. Croix
datdata <- RUVdensity_PRICO_BAL_VETU$datdata
inddata <- data.frame(cbind(RUVdensity_STX_BAL_VETU$species_data.density, RUVdensity_STX_EPI_GUTT$species_data.density, RUVdensity_STX_LUT_ANAL$species_data.density, RUVdensity_STX_OCY_CHRY$species_data.density, RUVdensity_STX_SPA_AURO$species_data.density, RUVdensity_STX_SPA_VIRI$species_data.density))
labs <- c("STX" , "Density", "queen triggerfish",
"STX" , "Density", "red hind",
"STX" , "Density", "mutton snapper",
"STX" , "Density", "yellowtail snapper",
"STX" , "Density", "redband parrotfish",
"STX" , "Density", "stoplight parrotfish")
indnames <- data.frame(matrix(labs, nrow = 3, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
save(inddata, file = "indicator_objects/RVC_STX.RData")
load("../indicator_objects/RVC_PR.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:6, trendAnalysis = T, sublabel = T)
plotIndicatorTimeSeries(inddata, coltoplot = 1:6, trendAnalysis = T, sublabel = T, widadj = 10)
load("../indicator_objects/landings.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:6, trendAnalysis = T, sublabel = T)
# Puerto Rico
datdata <- as.integer(RUVdensity_PRICO_BAL_VETU$datdata)
inddata <- data.frame(cbind(RUVdensity_PRICO_BAL_VETU$species_data.density, RUVdensity_PRICO_EPI_GUTT$species_data.density, RUVdensity_PRICO_LUT_ANAL$species_data.density, RUVdensity_PRICO_OCY_CHRY$species_data.density, RUVdensity_PRICO_SPA_AURO$species_data.density, RUVdensity_PRICO_SPA_VIRI$species_data.density))
labs <- c("PR" , "Density", "queen triggerfish",
"PR" , "Density", "red hind",
"PR" , "Density", "mutton snapper",
"PR" , "Density", "yellowtail snapper",
"PR" , "Density", "redband parrotfish",
"PR" , "Density", "stoplight parrotfish")
indnames <- data.frame(matrix(labs, nrow = 3, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
save(inddata, file = "indicator_objects/RVC_PR.RData")
load("../indicator_objects/RVC_PR.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:6, trendAnalysis = T, sublabel = T, widadj = 10)
plotIndicatorTimeSeries(inddata, coltoplot = 1:6, trendAnalysis = T, sublabel = T)
# Puerto Rico
datdata <- as.integer(RUVdensity_PRICO_BAL_VETU$datdata)
inddata <- data.frame(cbind(RUVdensity_PRICO_BAL_VETU$species_data.density, RUVdensity_PRICO_EPI_GUTT$species_data.density, RUVdensity_PRICO_LUT_ANAL$species_data.density, RUVdensity_PRICO_OCY_CHRY$species_data.density, RUVdensity_PRICO_SPA_AURO$species_data.density, RUVdensity_PRICO_SPA_VIRI$species_data.density))
labs <- c("Puerto Rico" , "Density", "queen triggerfish",
"Puerto Rico" , "Density", "red hind",
"Puerto Rico" , "Density", "mutton snapper",
"Puerto Rico" , "Density", "yellowtail snapper",
"Puerto Rico" , "Density", "redband parrotfish",
"Puerto Rico" , "Density", "stoplight parrotfish")
indnames <- data.frame(matrix(labs, nrow = 3, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
save(inddata, file = "indicator_objects/RVC_PR.RData")
# St. Thomas & St. John
datdata <- as.integer(RUVdensity_PRICO_BAL_VETU$datdata)
inddata <- data.frame(cbind(RUVdensity_STTSTJ_BAL_VETU$species_data.density, RUVdensity_STTSTJ_EPI_GUTT$species_data.density, RUVdensity_STTSTJ_LUT_ANAL$species_data.density, RUVdensity_STTSTJ_OCY_CHRY$species_data.density, RUVdensity_STTSTJ_SPA_AURO$species_data.density, RUVdensity_STTSTJ_SPA_VIRI$species_data.density))
labs <- c("St. Thomas & St. John" , "Density", "queen triggerfish",
"St. Thomas & St. John" , "Density", "red hind",
"St. Thomas & St. John" , "Density", "mutton snapper",
"St. Thomas & St. John" , "Density", "yellowtail snapper",
"St. Thomas & St. John" , "Density", "redband parrotfish",
"St. Thomas & St. John" , "Density", "stoplight parrotfish")
indnames <- data.frame(matrix(labs, nrow = 3, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
save(inddata, file = "indicator_objects/RVC_STSJ.RData")
# St. Croix
datdata <- as.integer(RUVdensity_PRICO_BAL_VETU$datdata)
inddata <- data.frame(cbind(RUVdensity_STX_BAL_VETU$species_data.density, RUVdensity_STX_EPI_GUTT$species_data.density, RUVdensity_STX_LUT_ANAL$species_data.density, RUVdensity_STX_OCY_CHRY$species_data.density, RUVdensity_STX_SPA_AURO$species_data.density, RUVdensity_STX_SPA_VIRI$species_data.density))
labs <- c("St. Croix" , "Density", "queen triggerfish",
"St. Croix" , "Density", "red hind",
"St. Croix" , "Density", "mutton snapper",
"St. Croix" , "Density", "yellowtail snapper",
"St. Croix" , "Density", "redband parrotfish",
"St. Croix" , "Density", "stoplight parrotfish")
indnames <- data.frame(matrix(labs, nrow = 3, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
save(inddata, file = "indicator_objects/RVC_STX.RData")
load("../indicator_objects/RVC_PR.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:6, trendAnalysis = T, sublabel = T)
load("../indicator_objects/RVC_STSJ.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:6, trendAnalysis = T, sublabel = T)
load("../indicator_objects/RVC_STX.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:6, trendAnalysis = T, sublabel = T)
# The data portal has more information on the data: https://grunt.sefsc.noaa.gov/rvc_analysis20/
# Species of interest:
# OCY CHRY --> yellowtail snapper
# LUT ANAL  --> mutton snapper*
# BAL VETU  --> queen triggerfish
# EPI GUTT  --> red hind
# SPA AURO  --> redband parrotfish
# SPA VIRI  --> stoplight parrotfish
# Regions of interest:
# PRICO  --> Puerto Rico
# STTSTJ  --> St. Thomas & St. John
# STX  --> St. Croix
# NOTE: as of 3/1/2024 calibrations have not been completed for all species. This means the data on the portal only go back to 2016. To get the full time series (2001 onward) we needed to get the calibrated data from Jeremiah Blondeau (jeremiah.blondeau@noaa.gov). Species specific calibrations were done. The calibrated_species.csv file is a list of all the species that have thus far been calibrated. All species of interest have been calibrated except for mutton snapper. For mutton snapper we can only use data from 2017 onward.
calibrated = read.csv("indicator_data/RVC/calibrated_species.csv")
prico = readRDS("indicator_data/RVC/prico_2001_2021_calibrated.rds")
sttstj = readRDS("indicator_data/RVC/sttstj_2001_2021_calibrated.rds")
stx = readRDS("indicator_data/RVC/stx_2001_2021_calibrated.rds")
## Make a list of species
## You can use full scientific names, common names, or
## species codes (first 3 letters of genus, and first 4 of species)
## Only scientific names are case-sensitive
spcs = c("OCY CHRY", "LUT ANAL", "BAL VETU", "EPI GUTT", "SPA AURO", "SPA VIRI")
## Code to bring in data from the server if needed for updating
## Download desired Regions data from server
#carib = getRvcData(years = 2016:2021, regions = c("PRICO","STTSTJ","STX"))
# Extract the time series for each species and each area
regions = c("PRICO","STTSTJ","STX")
for(j in regions) {
# call data for the current region
dat = switch(j,
"PRICO" = prico,
"STTSTJ" = sttstj,
"STX" = stx)
## Calculate statistics for entire sampling domain
ddens = getDomainDensity(dat, species = spcs)
# Convert SPECIES_CD to factor to ensure correct ordering in plots
ddens$SPECIES_CD <- factor(ddens$SPECIES_CD)
species <- unique(ddens$SPECIES_CD)
for (i in species) {
# Subset data for the current species
species_data <- filter(ddens, SPECIES_CD == i)
# format indicator object -----------------------------
datdata <- species_data$YEAR
inddata <- data.frame(species_data$density)
s <- cbind(datdata, inddata)
# save -----------------------------------------
save(s, file = paste("indicator_data/RVC/RUVdensity_", j, "_", i, ".RData", sep = ""))
}
}
# Set the directory path where the .RData files are located
folder_path <- "indicator_data/RVC"
# List all the files in the directory
files <- list.files(path = folder_path, pattern = "\\.RData$", full.names = TRUE)
# Load all .RData files
for (file in files) {
# Replace spaces with underscores in object names
object_names <- gsub(" ", "_", gsub(".RData", "", basename(file)))
# Load the file
loaded_objects <- load(file)
# Assign loaded objects to global environment with modified names
for (i in seq_along(loaded_objects)) {
assign(object_names[i], get(loaded_objects[i]), envir = .GlobalEnv)
}
}
# format indicator object -----------------------------
# OCY CHRY --> yellowtail snapper
# LUT ANAL  --> mutton snapper*
# BAL VETU  --> queen triggerfish
# EPI GUTT  --> red hind
# SPA AURO  --> redband parrotfish
# SPA VIRI  --> stoplight parrotfish
# Puerto Rico
datdata <- as.integer(RUVdensity_PRICO_BAL_VETU$datdata)
inddata <- data.frame(cbind(RUVdensity_PRICO_BAL_VETU$species_data.density, RUVdensity_PRICO_EPI_GUTT$species_data.density, RUVdensity_PRICO_LUT_ANAL$species_data.density, RUVdensity_PRICO_OCY_CHRY$species_data.density, RUVdensity_PRICO_SPA_AURO$species_data.density, RUVdensity_PRICO_SPA_VIRI$species_data.density))
labs <- c("Puerto Rico" , "Density", "queen triggerfish",
"Puerto Rico" , "Density", "red hind",
"Puerto Rico" , "Density", "mutton snapper*",
"Puerto Rico" , "Density", "yellowtail snapper",
"Puerto Rico" , "Density", "redband parrotfish",
"Puerto Rico" , "Density", "stoplight parrotfish")
indnames <- data.frame(matrix(labs, nrow = 3, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
save(inddata, file = "indicator_objects/RVC_PR.RData")
# St. Thomas & St. John
datdata <- as.integer(RUVdensity_PRICO_BAL_VETU$datdata)
inddata <- data.frame(cbind(RUVdensity_STTSTJ_BAL_VETU$species_data.density, RUVdensity_STTSTJ_EPI_GUTT$species_data.density, RUVdensity_STTSTJ_LUT_ANAL$species_data.density, RUVdensity_STTSTJ_OCY_CHRY$species_data.density, RUVdensity_STTSTJ_SPA_AURO$species_data.density, RUVdensity_STTSTJ_SPA_VIRI$species_data.density))
labs <- c("St. Thomas & St. John" , "Density", "queen triggerfish",
"St. Thomas & St. John" , "Density", "red hind",
"St. Thomas & St. John" , "Density", "mutton snapper*",
"St. Thomas & St. John" , "Density", "yellowtail snapper",
"St. Thomas & St. John" , "Density", "redband parrotfish",
"St. Thomas & St. John" , "Density", "stoplight parrotfish")
indnames <- data.frame(matrix(labs, nrow = 3, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
save(inddata, file = "indicator_objects/RVC_STSJ.RData")
# St. Croix
datdata <- as.integer(RUVdensity_PRICO_BAL_VETU$datdata)
inddata <- data.frame(cbind(RUVdensity_STX_BAL_VETU$species_data.density, RUVdensity_STX_EPI_GUTT$species_data.density, RUVdensity_STX_LUT_ANAL$species_data.density, RUVdensity_STX_OCY_CHRY$species_data.density, RUVdensity_STX_SPA_AURO$species_data.density, RUVdensity_STX_SPA_VIRI$species_data.density))
labs <- c("St. Croix" , "Density", "queen triggerfish",
"St. Croix" , "Density", "red hind",
"St. Croix" , "Density", "mutton snapper*",
"St. Croix" , "Density", "yellowtail snapper",
"St. Croix" , "Density", "redband parrotfish",
"St. Croix" , "Density", "stoplight parrotfish")
indnames <- data.frame(matrix(labs, nrow = 3, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
save(inddata, file = "indicator_objects/RVC_STX.RData")
### Left to troubleshoot:
# Need to take out mutton snapper and do that one separately because the data are not calibrated. Need to chop it so only use data from 2017 onward.
load("../indicator_objects/RVC_PR.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:6, trendAnalysis = T, sublabel = T)
dat = read.csv("indicator_data/pollution_sites.csv")
head(dat)
USVI = dat[,c(1,4,7,10,13,16)]
head(USVI)
PR = dat[,c(1,3,6,9,12,15)]
head(PR)
USVI = dat[-1,c(1,4,7,10,13,16)]
head(USVI)
PR = dat[-1,c(1,3,6,9,12,15)]
head(PR)
USVI$sum = rowSums(USVI[,-1], na.rm=T)
View(PR)
str(USVI)
# make sure columns are numeric
dat[] = lapply(dat, as.numeric)
USVI = dat[-1,c(1,4,7,10,13,16)]
head(USVI)
str(USVI)
PR = dat[-1,c(1,3,6,9,12,15)]
head(PR)
USVI$sum = rowSums(USVI[,-1], na.rm=T)
head(USVI)
PR$sum = rowSums(PR[,-1], na.rm=T)
head(dat)
dat = read.csv("indicator_data/pollution_sites.csv")
head(dat)
# make sure columns are numeric
dat[] = lapply(dat, as.numeric)
USVI = dat[-1,c(1,4,7,10,13,16)]
head(USVI)
str(USVI)
PR = dat[-1,c(1,3,6,9,12,15)]
head(PR)
USVI$sum = rowSums(USVI[,-1], na.rm=T)
PR$sum = rowSums(PR[,-1], na.rm=T)
# save as indicator object ----------------------
datdata <- (min(dat$year):max(dat$year))
inddata <- data.frame(PR, USVI)
# save as indicator object ----------------------
datdata <- (min(dat$year, na.rm=T):max(dat$year, na.rm=T))
# save as indicator object ----------------------
datdata <- dat$year
# save as indicator object ----------------------
datdata <- dat$year[-1,]
# save as indicator object ----------------------
datdata <- USVI$year
inddata <- data.frame(PR, USVI)
labs <- c("Pollution sites" , "Number added", "Puerto Rico",
"Pollution sites" , "Number added", "USVI")
indnames <- data.frame(matrix(labs, nrow = 3, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
# plot and save ----------------------------------
save(inddata, file = "indicator_objects/pollution.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:2, sublabel = TRUE)
library(plotTimeSeries)
plotIndicatorTimeSeries(inddata, coltoplot = 1:2, sublabel = TRUE)
PR = PR$sum
USVI = USVI$sum
# save as indicator object ----------------------
datdata <- USVI$year
inddata <- data.frame(PR, USVI)
labs <- c("Pollution sites" , "Number added", "Puerto Rico",
"Pollution sites" , "Number added", "USVI")
indnames <- data.frame(matrix(labs, nrow = 3, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
# plot and save ----------------------------------
save(inddata, file = "indicator_objects/pollution.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:2, sublabel = TRUE)
# save as indicator object ----------------------
datdata <- as.integer(USVI$year)
dat = read.csv("indicator_data/pollution_sites.csv")
head(dat)
# make sure columns are numeric
dat[] = lapply(dat, as.numeric)
USVI = dat[-1,c(1,4,7,10,13,16)]
head(USVI)
str(USVI)
PR = dat[-1,c(1,3,6,9,12,15)]
head(PR)
USVI$sum = rowSums(USVI[,-1], na.rm=T)
PR$sum = rowSums(PR[,-1], na.rm=T)
PR_ind = PR$sum
USVI_ind = USVI$sum
# save as indicator object ----------------------
datdata <- as.integer(USVI$year)
inddata <- data.frame(PR_ind, USVI_ind)
labs <- c("Pollution sites" , "Number added", "Puerto Rico",
"Pollution sites" , "Number added", "USVI")
indnames <- data.frame(matrix(labs, nrow = 3, byrow = F))
inddata <- list(labels = indnames, indicators = inddata, datelist = datdata)
class(inddata) <- "indicatordata"
# plot and save ----------------------------------
save(inddata, file = "indicator_objects/pollution.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:2, sublabel = TRUE)
load("../indicator_objects/DegreeHeatingWeeks.RData")
plotIndicatorTimeSeries(ind, coltoplot = 1:2, trendAnalysis = T, sublabel = T, dateformat = "%Y%m", plotrownum = 2, plotcolnum = 1)
library(plotTimeSeries)
plotIndicatorTimeSeries(ind, coltoplot = 1:2, trendAnalysis = T, sublabel = T, dateformat = "%Y%m", plotrownum = 2, plotcolnum = 1)
#
# Degree Heating Weeks indicators
rm(list = ls())
dev.off()
rm(list = ls())
load("spec_file.RData")
dev.off()
load("indicator_data/spec_file.RData")
load("~/My Github Projects/Caribbean-ESR/indicator_objects/pollution.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:3, trendAnalysis = F, sublabel = T)
plotIndicatorTimeSeries(inddata, coltoplot = 1:2, trendAnalysis = F, sublabel = T)
devtools::install_github("https://github.com/CarissaGervasi-NOAA/plotTimeSeries.git")
devtools::install_github("https://github.com/CarissaGervasi-NOAA/plotTimeSeries.git")
devtools::install_github("https://github.com/MandyKarnauskas-NOAA/plotTimeSeries.git")
devtools::install_github("https://github.com/MandyKarnauskas-NOAA/plotTimeSeries.git")
devtools::install_github("https://github.com/MandyKarnauskas-NOAA/plotTimeSeries.git")
library(plotTimeSeries)
library(spam)
library(plotTimeSeries)
library(spam)
load("../indicator_objects/DegreeHeatingWeeks.RData")
plotIndicatorTimeSeries(ind, coltoplot = 1:2, trendAnalysis = T, sublabel = T, dateformat = "%Y%m", plotrownum = 2, plotcolnum = 1)
load("../indicator_objects/OA.RData")
plotIndicatorTimeSeries(ind, trendAnalysis = T)
load("../indicator_objects/ACEindex.RData")
plotIndicatorTimeSeries(ind, trendAnalysis = T)
load("../indicator_objects/turbidity.RData")
plotIndicatorTimeSeries(ind, coltoplot = 1:3, plotrownum = 2, trendAnalysis = T, dateformat = "%m-%Y", sublabel = T)
load("../indicator_objects/Carib_SST.RData")
plotIndicatorTimeSeries(ind, coltoplot = 1:3, trendAnalysis = T, sublabel = T, dateformat = "%m-%Y")
load("../indicator_objects/marine_debris.RData")
plotIndicatorTimeSeries(ind, trendAnalysis = F)
load("../indicator_objects/pollution.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:2, trendAnalysis = F, sublabel = T)
load("../indicator_objects/carib_Chl.RData")
plotIndicatorTimeSeries(ind, trendAnalysis = T, dateformat = "%m-%Y")
![](/indicator_plots/Land_Use_Land_Cover_2024.jpg)
[](/indicator_plots/Land_Use_Land_Cover_2024.jpg)
load("../indicator_objects/earthquakes.RData")
plotIndicatorTimeSeries(ind, trendAnalysis = T)
load("../indicator_objects/disturbance.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:3, trendAnalysis = T, sublabel = T)
load("../indicator_objects/disturbance.RData")
load("../indicator_objects/Sargassum.RData")
plotIndicatorTimeSeries(inddata, trendAnalysis = T)
load("../indicator_objects/sargassum_innundation_monthly_mean_hu.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:3, sublabel = T, trendAnalysis = T, dateformat = "%Y%b")
load("../indicator_objects/hotel_occupancy_rates_USVI_and_PR.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:2, sublabel = T, trendAnalysis = T, dateformat = "%Y%b")
load("../indicator_objects/hotel_occupancy.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:2, sublabel = T, trendAnalysis = T, dateformat = "%Y%b")
load("../indicator_objects/hotel_occupancy_rates_USVI_and_PR.RData")
load("../indicator_objects/RVC_PR.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:6, trendAnalysis = T, sublabel = T)
load("../indicator_objects/RVC_PR.RData")
load("../indicator_objects/RVC_PR.RData")
plotIndicatorTimeSeries(ind, coltoplot = 1:6, trendAnalysis = T, sublabel = T)
load("../indicator_objects/RVC_STSJ.RData")
plotIndicatorTimeSeries(ind, coltoplot = 1:6, trendAnalysis = T, sublabel = T)
load("../indicator_objects/RVC_STX.RData")
plotIndicatorTimeSeries(ind, coltoplot = 1:6, trendAnalysis = T, sublabel = T)
load("../indicator_objects/landings.RData")
load("../indicator_objects/fish_density.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:3, plotrownum = 2, trendAnalysis = T, sublabel = T)
load("../indicator_objects/fish_density.RData")
plotIndicatorTimeSeries(ind, coltoplot = 1:3, plotrownum = 2, trendAnalysis = T, sublabel = T)
load("../indicator_objects/total_landings.RData")
load("../indicator_objects/OceanNAICS.RData")
load("../indicator_objects/GDP.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:2, trendAnalysis = T, sublabel = T)
load("../indicator_objects/unemployment.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:2, trendAnalysis = T, sublabel = T, dateformat = "%Y%b")
load("../indicator_objects/gini.RData")
load("../indicator_objects/total_rec_catch.RData")
load("../indicator_objects/NCRMP_coral_cover_richness.RData")
load("../indicator_objects/coral_spprichness_cover.RData")
load("../indicator_objects/coral_spprichness_cover.RData")
plotIndicatorTimeSeries(inddata, coltoplot = 1:4, sublabel = T, trendAnalysis = T)
plotIndicatorTimeSeries(ind, coltoplot = 1:4, sublabel = T, trendAnalysis = T)
load("../indicator_objects/Carib_SST.RData")
